<article>
    <h2>Browse by date & elevation</h2>
    <div id="trip-chart" style="width: 100%; height: 500px;"></div>

    <script>
        const tripData = [
            {% for post in collections.trip-report %}
            {% if post.data.trips.peaks %}
            {
                date: "{{ post.data.trips.dateHiked }}",
                elevation: {{ post.data.trips.peaks | getHighestElevation }},
                peaks: [
                    {% for peak in post.data.trips.peaks %}
                    { name: "{{ peak.name }}", elevation: {{ peak.elevation }} }{% unless forloop.last %},{% endunless %}
                    {% endfor %}
                ],
                url: "{{ post.url }}",
                title: "{{ post.data.title }}"
            }{% unless forloop.last %},{% endunless %}
            {% endif %}
            {% endfor %}
        ];
        
        createTripChart(tripData);
    </script>


</article>